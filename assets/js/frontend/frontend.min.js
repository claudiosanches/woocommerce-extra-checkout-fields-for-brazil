jQuery(function(a){const b={init(){"0"!==bmwPublicParams.person_type&&this.person_type_fields(),"yes"===bmwPublicParams.maskedinput&&(a(document.body).on("change","#billing_country",function(){"BR"===a(this).val()?b.maskBilling():b.unmaskBilling()}),a(document.body).on("change","#shipping_country",function(){"BR"===a(this).val()?b.maskShipping():b.unmaskShipping()}),"BR"===a("#billing_country").val()&&b.maskBilling(),"BR"===a("#shipping_country").val()&&b.maskShipping(),this.maskGeneral()),"yes"===bmwPublicParams.mailcheck&&this.emailCheck(),a().select2&&a(".wc-ecfb-select").select2()},person_type_fields(){const b=function(b,c=!1){let d="BR";c&&(d=a("#billing_country").val()),a(".person-type-field").hide().removeClass("validate-required is-active woocommerce-validated"),a("#billing_persontype_field").show().addClass("is-active"),"1"===b&&("BR"===d?(a("#billing_cpf_field").addClass("validate-required is-active woocommerce-validated").show(),a("#billing_rg_field").addClass("validate-required is-active woocommerce-validated").show()):(a("#billing_cpf_field").show().addClass("is-active"),a("#billing_rg_field").show().addClass("is-active"))),"2"===b&&("BR"===d?(a("#billing_company_field label .optional").remove(),a("#billing_company_field").addClass("validate-required is-active woocommerce-validated").show(),a("#billing_cnpj_field").addClass("validate-required is-active woocommerce-validated").show(),a("#billing_ie_field").addClass("validate-required is-active woocommerce-validated").show()):(a("#billing_company_field").addClass("is-active").show(),a("#billing_cnpj_field").addClass("is-active").show(),a("#billing_ie_field").addClass("is-active").show())),"BR"===d&&(a(".person-type-field label .required").remove(),a(".person-type-field label").append(" <abbr class=\"required\" title=\""+bmwPublicParams.required+"\">*</abbr>"))},c=function(c=!1){"1"===bmwPublicParams.person_type&&a("#billing_persontype").on("change",function(){const d=a(this).val();b(d,c)}).change()};"no"===bmwPublicParams.only_brazil?(a(".person-type-field label .required").remove(),a(".person-type-field label").append(" <abbr class=\"required\" title=\""+bmwPublicParams.required+"\">*</abbr>"),c()):(a(".person-type-field").removeClass("validate-required is-active woocommerce-validated"),a(".person-type-field label .required").remove(),c(!0),a("#billing_country").on("change",function(){const c=a(this).val();if(!("BR"===c))a(".person-type-field").removeClass("validate-required is-active woocommerce-validated"),a(".person-type-field label .required").remove();else if("1"===bmwPublicParams.person_type){const c=a("#billing_persontype").val();b(c)}}).change())},maskBilling(){b.maskPhone("#billing_phone, #billing_cellphone"),a("#billing_birthdate").mask("00/00/0000"),a("#billing_postcode").mask("00000-000"),a("#billing_phone, #billing_cellphone, #billing_birthdate, #billing_postcode").attr("type","tel")},unmaskBilling(){a("#billing_phone, #billing_cellphone, #billing_birthdate, #billing_postcode").unmask().attr("type","text")},maskShipping(){a("#shipping_postcode").mask("00000-000").attr("type","tel")},unmaskShipping(){a("#shipping_postcode").unmask().attr("type","text")},maskGeneral(){a("#billing_cpf, #credit-card-cpf").mask("000.000.000-00"),a("#billing_cnpj").mask("00.000.000/0000-00"),b.maskPhone("#credit-card-phone")},maskPhone(b){const c=a(b),d=function(a){return 11===a.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"};c.mask(d,{onKeyPress(a,b,c,e){c.mask(d.apply({},arguments),e)}})},emailCheck(){const b=bmwPublicParams.suggest_text;1>a("#wcbcf-mailsuggest").length&&a("#billing_email").after("<div id=\"wcbcf-mailsuggest\"></div>"),a("#billing_email").on("blur",function(){a("#wcbcf-mailsuggest").html(""),a(this).mailcheck({suggested(c,d){a("#wcbcf-mailsuggest").html(b.replace("%hint%",d.full))}})}),a("#wcbcf-mailsuggest").css({color:"#c00",fontSize:"small"})}};b.init()});